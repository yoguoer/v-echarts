import{_ as Z,G as et,x as nt,E as Ut,aC as Wt,aD as Xt,o as Y,as as Zt,k as Ct,aw as lt,aE as $t,q as qt,t as x,ax as Tt,w as ot,ad as J,aF as vt,aG as Kt,ar as Jt,ab as jt,a4 as j,ah as tt,D as Et,aH as q,aI as ht,P as Nt,aJ as Qt,aK as ft,aL as ct,aa as mt,v as gt,aM as pt,C as at,aN as yt,B as R,Z as Yt,aO as xt,at as te,g as Ot,aP as ee,aQ as bt,az as ae,aR as re,aS as ie,aT as Vt,aU as ne,aV as oe,aW as se,al as dt,aX as le,ag as ue,aY as ve,p as St,aZ as he,a_ as fe}from"./common-C8R1ltjb.js";import{c as ce,g as Gt,b as me,e as ge,f as pe,d as ye}from"./dataSample-CNRCW7Kf.js";import{_ as be,r as de,o as Se,a as _e}from"./index-Bt1y0IXA.js";var De=function(n){Z(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return ce(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var a=new et,o=nt("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);a.add(o),o.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),i=this.getData().getVisual("symbolRotate"),s=r==="none"?"circle":r,u=t.itemHeight*.8,l=nt(s,(t.itemWidth-u)/2,(t.itemHeight-u)/2,u,u,t.itemStyle.fill);a.add(l),l.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?i:t.iconRotate||0;return l.rotation=c*Math.PI/180,l.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),a},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Ut),ut=function(n){Z(e,n);function e(t,a,o,r){var i=n.call(this)||this;return i.updateData(t,a,o,r),i}return e.prototype._createSymbol=function(t,a,o,r,i){this.removeAll();var s=nt(t,-1,-1,2,2,null,i);s.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),s.drift=ke,this._symbolType=t,this.add(s)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Wt(this.childAt(0))},e.prototype.downplay=function(){Xt(this.childAt(0))},e.prototype.setZ=function(t,a){var o=this.childAt(0);o.zlevel=t,o.z=a},e.prototype.setDraggable=function(t,a){var o=this.childAt(0);o.draggable=t,o.cursor=!a&&t?"move":o.cursor},e.prototype.updateData=function(t,a,o,r){this.silent=!1;var i=t.getItemVisual(a,"symbol")||"circle",s=t.hostModel,u=e.getSymbolSize(t,a),l=i!==this._symbolType,c=r&&r.disableAnimation;if(l){var v=t.getItemVisual(a,"symbolKeepAspect");this._createSymbol(i,t,a,u,v)}else{var f=this.childAt(0);f.silent=!1;var h={scaleX:u[0]/2,scaleY:u[1]/2};c?f.attr(h):Y(f,h,s,a),Zt(f)}if(this._updateCommon(t,a,u,o,r),l){var f=this.childAt(0);if(!c){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Ct(f,h,s,a)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,a,o,r,i){var s=this.childAt(0),u=t.hostModel,l,c,v,f,h,p,y,b,m;if(r&&(l=r.emphasisItemStyle,c=r.blurItemStyle,v=r.selectItemStyle,f=r.focus,h=r.blurScope,y=r.labelStatesModels,b=r.hoverScale,m=r.cursorStyle,p=r.emphasisDisabled),!r||t.hasItemOption){var g=r&&r.itemModel?r.itemModel:t.getItemModel(a),d=g.getModel("emphasis");l=d.getModel("itemStyle").getItemStyle(),v=g.getModel(["select","itemStyle"]).getItemStyle(),c=g.getModel(["blur","itemStyle"]).getItemStyle(),f=d.get("focus"),h=d.get("blurScope"),p=d.get("disabled"),y=lt(g),b=d.getShallow("scale"),m=g.getShallow("cursor")}var _=t.getItemVisual(a,"symbolRotate");s.attr("rotation",(_||0)*Math.PI/180||0);var P=$t(t.getItemVisual(a,"symbolOffset"),o);P&&(s.x=P[0],s.y=P[1]),m&&s.attr("cursor",m);var S=t.getItemVisual(a,"style"),D=S.fill;if(s instanceof qt){var I=s.style;s.useStyle(x({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},S))}else s.__isEmptyBrush?s.useStyle(x({},S)):s.useStyle(S),s.style.decal=null,s.setColor(D,i&&i.symbolInnerColor),s.style.strokeNoScale=!0;var A=t.getItemVisual(a,"liftZ"),w=this._z2;A!=null?w==null&&(this._z2=s.z2,s.z2+=A):w!=null&&(s.z2=w,this._z2=null);var L=i&&i.useNameLabel;Tt(s,y,{labelFetcher:u,labelDataIndex:a,defaultText:k,inheritColor:D,defaultOpacity:S.opacity});function k(G){return L?t.getName(G):Gt(t,G)}this._sizeX=o[0]/2,this._sizeY=o[1]/2;var C=s.ensureState("emphasis");C.style=l,s.ensureState("select").style=v,s.ensureState("blur").style=c;var V=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;C.scaleX=this._sizeX*V,C.scaleY=this._sizeY*V,this.setSymbolScale(1),ot(this,f,h,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,a,o){var r=this.childAt(0),i=J(this).dataIndex,s=o&&o.animation;if(this.silent=r.silent=!0,o&&o.fadeLabel){var u=r.getTextContent();u&&vt(u,{style:{opacity:0}},a,{dataIndex:i,removeOpt:s,cb:function(){r.removeTextContent()}})}else r.removeTextContent();vt(r,{style:{opacity:0},scaleX:0,scaleY:0},a,{dataIndex:i,cb:t,removeOpt:s})},e.getSymbolSize=function(t,a){return Kt(t.getItemVisual(a,"symbolSize"))},e}(et);function ke(n,e){this.parent.drift(n,e)}function rt(n,e,t,a){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(a.isIgnore&&a.isIgnore(t))&&!(a.clipShape&&!a.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function _t(n){return n!=null&&!jt(n)&&(n={isIgnore:n}),n||{}}function Dt(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:lt(e),cursorStyle:e.get("cursor")}}var Mt=function(){function n(e){this.group=new et,this._SymbolCtor=e||ut}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=_t(t);var a=this.group,o=e.hostModel,r=this._data,i=this._SymbolCtor,s=t.disableAnimation,u=Dt(e),l={disableAnimation:s},c=t.getSymbolPoint||function(v){return e.getItemLayout(v)};r||a.removeAll(),e.diff(r).add(function(v){var f=c(v);if(rt(e,f,v,t)){var h=new i(e,v,u,l);h.setPosition(f),e.setItemGraphicEl(v,h),a.add(h)}}).update(function(v,f){var h=r.getItemGraphicEl(f),p=c(v);if(!rt(e,p,v,t)){a.remove(h);return}var y=e.getItemVisual(v,"symbol")||"circle",b=h&&h.getSymbolType&&h.getSymbolType();if(!h||b&&b!==y)a.remove(h),h=new i(e,v,u,l),h.setPosition(p);else{h.updateData(e,v,u,l);var m={x:p[0],y:p[1]};s?h.attr(m):Y(h,m,o)}a.add(h),e.setItemGraphicEl(v,h)}).remove(function(v){var f=r.getItemGraphicEl(v);f&&f.fadeOut(function(){a.remove(f)},o)}).execute(),this._getSymbolPoint=c,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(a,o){var r=e._getSymbolPoint(o);a.setPosition(r),a.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Dt(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,a){this._progressiveEls=[],a=_t(a);function o(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var r=e.start;r<e.end;r++){var i=t.getItemLayout(r);if(rt(t,i,r,a)){var s=new this._SymbolCtor(t,r,this._seriesScope);s.traverse(o),s.setPosition(i),this.group.add(s),t.setItemGraphicEl(r,s),this._progressiveEls.push(s)}}},n.prototype.eachRendered=function(e){Jt(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,a=this._data;a&&e?a.eachItemGraphicEl(function(o){o.fadeOut(function(){t.remove(o)},a.hostModel)}):t.removeAll()},n}();function zt(n,e,t){var a=n.getBaseAxis(),o=n.getOtherAxis(a),r=Pe(o,t),i=a.dim,s=o.dim,u=e.mapDimension(s),l=e.mapDimension(i),c=s==="x"||s==="radius"?1:0,v=j(n.dimensions,function(p){return e.mapDimension(p)}),f=!1,h=e.getCalculationInfo("stackResultDimension");return tt(e,v[0])&&(f=!0,v[0]=h),tt(e,v[1])&&(f=!0,v[1]=h),{dataDimsForPoint:v,valueStart:r,valueAxisDim:s,baseAxisDim:i,stacked:!!f,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Pe(n,e){var t=0,a=n.scale.getExtent();return e==="start"?t=a[0]:e==="end"?t=a[1]:Et(e)&&!isNaN(e)?t=e:a[0]>0?t=a[0]:a[1]<0&&(t=a[1]),t}function Rt(n,e,t,a){var o=NaN;n.stacked&&(o=t.get(t.getCalculationInfo("stackedOverDimension"),a)),isNaN(o)&&(o=n.valueStart);var r=n.baseDataOffset,i=[];return i[r]=t.get(n.baseDim,a),i[1-r]=o,e.dataToPoint(i)}function Ie(n,e){var t=[];return e.diff(n).add(function(a){t.push({cmd:"+",idx:a})}).update(function(a,o){t.push({cmd:"=",idx:o,idx1:a})}).remove(function(a){t.push({cmd:"-",idx:a})}).execute(),t}function Ae(n,e,t,a,o,r,i,s){for(var u=Ie(n,e),l=[],c=[],v=[],f=[],h=[],p=[],y=[],b=zt(o,e,i),m=n.getLayout("points")||[],g=e.getLayout("points")||[],d=0;d<u.length;d++){var _=u[d],P=!0,S=void 0,D=void 0;switch(_.cmd){case"=":S=_.idx*2,D=_.idx1*2;var I=m[S],A=m[S+1],w=g[D],L=g[D+1];(isNaN(I)||isNaN(A))&&(I=w,A=L),l.push(I,A),c.push(w,L),v.push(t[S],t[S+1]),f.push(a[D],a[D+1]),y.push(e.getRawIndex(_.idx1));break;case"+":var k=_.idx,C=b.dataDimsForPoint,V=o.dataToPoint([e.get(C[0],k),e.get(C[1],k)]);D=k*2,l.push(V[0],V[1]),c.push(g[D],g[D+1]);var G=Rt(b,o,e,k);v.push(G[0],G[1]),f.push(a[D],a[D+1]),y.push(e.getRawIndex(k));break;case"-":P=!1}P&&(h.push(_),p.push(p.length))}p.sort(function(Q,O){return y[Q]-y[O]});for(var N=l.length,F=q(N),E=q(N),T=q(N),H=q(N),B=[],d=0;d<p.length;d++){var K=p[d],M=d*2,z=K*2;F[M]=l[z],F[M+1]=l[z+1],E[M]=c[z],E[M+1]=c[z+1],T[M]=v[z],T[M+1]=v[z+1],H[M]=f[z],H[M+1]=f[z+1],B[d]=h[K]}return{current:F,next:E,stackedOnCurrent:T,stackedOnNext:H,status:B}}var U=Math.min,W=Math.max;function $(n,e){return isNaN(n)||isNaN(e)}function st(n,e,t,a,o,r,i,s,u){for(var l,c,v,f,h,p,y=t,b=0;b<a;b++){var m=e[y*2],g=e[y*2+1];if(y>=o||y<0)break;if($(m,g)){if(u){y+=r;continue}break}if(y===t)n[r>0?"moveTo":"lineTo"](m,g),v=m,f=g;else{var d=m-l,_=g-c;if(d*d+_*_<.5){y+=r;continue}if(i>0){for(var P=y+r,S=e[P*2],D=e[P*2+1];S===m&&D===g&&b<a;)b++,P+=r,y+=r,S=e[P*2],D=e[P*2+1],m=e[y*2],g=e[y*2+1],d=m-l,_=g-c;var I=b+1;if(u)for(;$(S,D)&&I<a;)I++,P+=r,S=e[P*2],D=e[P*2+1];var A=.5,w=0,L=0,k=void 0,C=void 0;if(I>=a||$(S,D))h=m,p=g;else{w=S-l,L=D-c;var V=m-l,G=S-m,N=g-c,F=D-g,E=void 0,T=void 0;if(s==="x"){E=Math.abs(V),T=Math.abs(G);var H=w>0?1:-1;h=m-H*E*i,p=g,k=m+H*T*i,C=g}else if(s==="y"){E=Math.abs(N),T=Math.abs(F);var B=L>0?1:-1;h=m,p=g-B*E*i,k=m,C=g+B*T*i}else E=Math.sqrt(V*V+N*N),T=Math.sqrt(G*G+F*F),A=T/(T+E),h=m-w*i*(1-A),p=g-L*i*(1-A),k=m+w*i*A,C=g+L*i*A,k=U(k,W(S,m)),C=U(C,W(D,g)),k=W(k,U(S,m)),C=W(C,U(D,g)),w=k-m,L=C-g,h=m-w*E/T,p=g-L*E/T,h=U(h,W(l,m)),p=U(p,W(c,g)),h=W(h,U(l,m)),p=W(p,U(c,g)),w=m-h,L=g-p,k=m+w*T/E,C=g+L*T/E}n.bezierCurveTo(v,f,h,p,m,g),v=k,f=C}else n.lineTo(m,g)}l=m,c=g,y+=r}return b}var Ft=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),we=function(n){Z(e,n);function e(t){var a=n.call(this,t)||this;return a.type="ec-polyline",a}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Ft},e.prototype.buildPath=function(t,a){var o=a.points,r=0,i=o.length/2;if(a.connectNulls){for(;i>0&&$(o[i*2-2],o[i*2-1]);i--);for(;r<i&&$(o[r*2],o[r*2+1]);r++);}for(;r<i;)r+=st(t,o,r,i,i,1,a.smooth,a.smoothMonotone,a.connectNulls)+1},e.prototype.getPointOn=function(t,a){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var o=this.path,r=o.data,i=Qt.CMD,s,u,l=a==="x",c=[],v=0;v<r.length;){var f=r[v++],h=void 0,p=void 0,y=void 0,b=void 0,m=void 0,g=void 0,d=void 0;switch(f){case i.M:s=r[v++],u=r[v++];break;case i.L:if(h=r[v++],p=r[v++],d=l?(t-s)/(h-s):(t-u)/(p-u),d<=1&&d>=0){var _=l?(p-u)*d+u:(h-s)*d+s;return l?[t,_]:[_,t]}s=h,u=p;break;case i.C:h=r[v++],p=r[v++],y=r[v++],b=r[v++],m=r[v++],g=r[v++];var P=l?ht(s,h,y,m,t,c):ht(u,p,b,g,t,c);if(P>0)for(var S=0;S<P;S++){var D=c[S];if(D<=1&&D>=0){var _=l?ft(u,p,b,g,D):ft(s,h,y,m,D);return l?[t,_]:[_,t]}}s=m,u=g;break}}},e}(Nt),Le=function(n){Z(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Ft),Ce=function(n){Z(e,n);function e(t){var a=n.call(this,t)||this;return a.type="ec-polygon",a}return e.prototype.getDefaultShape=function(){return new Le},e.prototype.buildPath=function(t,a){var o=a.points,r=a.stackedOnPoints,i=0,s=o.length/2,u=a.smoothMonotone;if(a.connectNulls){for(;s>0&&$(o[s*2-2],o[s*2-1]);s--);for(;i<s&&$(o[i*2],o[i*2+1]);i++);}for(;i<s;){var l=st(t,o,i,s,s,1,a.smooth,u,a.connectNulls);st(t,r,i+l-1,l,s,-1,a.stackedOnSmooth,u,a.connectNulls),i+=l+1,t.closePath()}},e}(Nt);function kt(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function Pt(n){for(var e=1/0,t=1/0,a=-1/0,o=-1/0,r=0;r<n.length;){var i=n[r++],s=n[r++];isNaN(i)||(e=Math.min(i,e),a=Math.max(i,a)),isNaN(s)||(t=Math.min(s,t),o=Math.max(s,o))}return[[e,t],[a,o]]}function It(n,e){var t=Pt(n),a=t[0],o=t[1],r=Pt(e),i=r[0],s=r[1];return Math.max(Math.abs(a[0]-i[0]),Math.abs(a[1]-i[1]),Math.abs(o[0]-s[0]),Math.abs(o[1]-s[1]))}function At(n){return Et(n)?n:n?.5:0}function Te(n,e,t){if(!t.valueDim)return[];for(var a=e.count(),o=q(a*2),r=0;r<a;r++){var i=Rt(t,n,e,r);o[r*2]=i[0],o[r*2+1]=i[1]}return o}function X(n,e,t,a){var o=e.getBaseAxis(),r=o.dim==="x"||o.dim==="radius"?0:1,i=[],s=0,u=[],l=[],c=[],v=[];if(a){for(s=0;s<n.length;s+=2)!isNaN(n[s])&&!isNaN(n[s+1])&&v.push(n[s],n[s+1]);n=v}for(s=0;s<n.length-2;s+=2)switch(c[0]=n[s+2],c[1]=n[s+3],l[0]=n[s],l[1]=n[s+1],i.push(l[0],l[1]),t){case"end":u[r]=c[r],u[1-r]=l[1-r],i.push(u[0],u[1]);break;case"middle":var f=(l[r]+c[r])/2,h=[];u[r]=h[r]=f,u[1-r]=l[1-r],h[1-r]=c[1-r],i.push(u[0],u[1]),i.push(h[0],h[1]);break;default:u[r]=l[r],u[1-r]=c[1-r],i.push(u[0],u[1])}return i.push(n[s++],n[s++]),i}function Ee(n,e){var t=[],a=n.length,o,r;function i(c,v,f){var h=c.coord,p=(f-h)/(v.coord-h),y=re(p,[c.color,v.color]);return{coord:f,color:y}}for(var s=0;s<a;s++){var u=n[s],l=u.coord;if(l<0)o=u;else if(l>e){r?t.push(i(r,u,e)):o&&t.push(i(o,u,0),i(o,u,e));break}else o&&(t.push(i(o,u,0)),o=null),t.push(u),r=u}return t}function Ne(n,e,t){var a=n.getVisual("visualMeta");if(!(!a||!a.length||!n.count())&&e.type==="cartesian2d"){for(var o,r,i=a.length-1;i>=0;i--){var s=n.getDimensionInfo(a[i].dimension);if(o=s&&s.coordDim,o==="x"||o==="y"){r=a[i];break}}if(r){var u=e.getAxis(o),l=j(r.stops,function(d){return{coord:u.toGlobalCoord(u.dataToCoord(d.value)),color:d.color}}),c=l.length,v=r.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),v.reverse());var f=Ee(l,o==="x"?t.getWidth():t.getHeight()),h=f.length;if(!h&&c)return l[0].coord<0?v[1]?v[1]:l[c-1].color:v[0]?v[0]:l[0].color;var p=10,y=f[0].coord-p,b=f[h-1].coord+p,m=b-y;if(m<.001)return"transparent";Ot(f,function(d){d.offset=(d.coord-y)/m}),f.push({offset:h?f[h-1].offset:.5,color:v[1]||"transparent"}),f.unshift({offset:h?f[0].offset:.5,color:v[0]||"transparent"});var g=new ee(0,0,0,0,f,!0);return g[o]=y,g[o+"2"]=b,g}}}function Oe(n,e,t){var a=n.get("showAllSymbol"),o=a==="auto";if(!(a&&!o)){var r=t.getAxesByScale("ordinal")[0];if(r&&!(o&&Ve(r,e))){var i=e.mapDimension(r.dim),s={};return Ot(r.getViewLabels(),function(u){var l=r.scale.getRawOrdinalNumber(u.tickValue);s[l]=1}),function(u){return!s.hasOwnProperty(e.get(i,u))}}}}function Ve(n,e){var t=n.getExtent(),a=Math.abs(t[1]-t[0])/n.scale.count();isNaN(a)&&(a=0);for(var o=e.count(),r=Math.max(1,Math.round(o/5)),i=0;i<o;i+=r)if(ut.getSymbolSize(e,i)[n.isHorizontal()?1:0]*1.5>a)return!1;return!0}function Ge(n,e){return isNaN(n)||isNaN(e)}function Me(n){for(var e=n.length/2;e>0&&Ge(n[e*2-2],n[e*2-1]);e--);return e-1}function wt(n,e){return[n[e*2],n[e*2+1]]}function ze(n,e,t){for(var a=n.length/2,o=t==="x"?0:1,r,i,s=0,u=-1,l=0;l<a;l++)if(i=n[l*2+o],!(isNaN(i)||isNaN(n[l*2+1-o]))){if(l===0){r=i;continue}if(r<=e&&i>=e||r>=e&&i<=e){u=l;break}s=l,r=i}return{range:[s,u],t:(e-r)/(i-r)}}function Ht(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<bt.length;e++)if(n.get([bt[e],"endLabel","show"]))return!0;return!1}function it(n,e,t,a){if(ae(e,"cartesian2d")){var o=a.getModel("endLabel"),r=o.get("valueAnimation"),i=a.getData(),s={lastFrameIndex:0},u=Ht(a)?function(h,p){n._endLabelOnDuring(h,p,i,s,r,o,e)}:null,l=e.getBaseAxis().isHorizontal(),c=ge(e,t,a,function(){var h=n._endLabel;h&&t&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},u);if(!a.get("clip",!0)){var v=c.shape,f=Math.max(v.width,v.height);l?(v.y-=f,v.height+=f*2):(v.x-=f,v.width+=f*2)}return u&&u(1,c),c}else return pe(e,t,a)}function Re(n,e){var t=e.getBaseAxis(),a=t.isHorizontal(),o=t.inverse,r=a?o?"right":"left":"center",i=a?"middle":o?"top":"bottom";return{normal:{align:n.get("align")||r,verticalAlign:n.get("verticalAlign")||i}}}var Fe=function(n){Z(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new et,a=new Mt;this.group.add(a.group),this._symbolDraw=a,this._lineGroup=t},e.prototype.render=function(t,a,o){var r=this,i=t.coordinateSystem,s=this.group,u=t.getData(),l=t.getModel("lineStyle"),c=t.getModel("areaStyle"),v=u.getLayout("points")||[],f=i.type==="polar",h=this._coordSys,p=this._symbolDraw,y=this._polyline,b=this._polygon,m=this._lineGroup,g=!a.ssr&&t.get("animation"),d=!c.isEmpty(),_=c.get("origin"),P=zt(i,u,_),S=d&&Te(i,u,P),D=t.get("showSymbol"),I=t.get("connectNulls"),A=D&&!f&&Oe(t,u,i),w=this._data;w&&w.eachItemGraphicEl(function(O,Bt){O.__temp&&(s.remove(O),w.setItemGraphicEl(Bt,null))}),D||p.remove(),s.add(m);var L=f?!1:t.get("step"),k;i&&i.getArea&&t.get("clip",!0)&&(k=i.getArea(),k.width!=null?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this._clipShapeForSymbol=k;var C=Ne(u,i,o)||u.getVisual("style")[u.getVisual("drawType")];if(!(y&&h.type===i.type&&L===this._step))D&&p.updateData(u,{isIgnore:A,clipShape:k,disableAnimation:!0,getSymbolPoint:function(O){return[v[O*2],v[O*2+1]]}}),g&&this._initSymbolLabelAnimation(u,i,k),L&&(v=X(v,i,L,I),S&&(S=X(S,i,L,I))),y=this._newPolyline(v),d?b=this._newPolygon(v,S):b&&(m.remove(b),b=this._polygon=null),f||this._initOrUpdateEndLabel(t,i,ct(C)),m.setClipPath(it(this,i,!0,t));else{d&&!b?b=this._newPolygon(v,S):b&&!d&&(m.remove(b),b=this._polygon=null),f||this._initOrUpdateEndLabel(t,i,ct(C));var V=m.getClipPath();if(V){var G=it(this,i,!1,t);Ct(V,{shape:G.shape},t)}else m.setClipPath(it(this,i,!0,t));D&&p.updateData(u,{isIgnore:A,clipShape:k,disableAnimation:!0,getSymbolPoint:function(O){return[v[O*2],v[O*2+1]]}}),(!kt(this._stackedOnPoints,S)||!kt(this._points,v))&&(g?this._doUpdateAnimation(u,S,i,o,L,_,I):(L&&(v=X(v,i,L,I),S&&(S=X(S,i,L,I))),y.setShape({points:v}),b&&b.setShape({points:v,stackedOnPoints:S})))}var N=t.getModel("emphasis"),F=N.get("focus"),E=N.get("blurScope"),T=N.get("disabled");if(y.useStyle(mt(l.getLineStyle(),{fill:"none",stroke:C,lineJoin:"bevel"})),gt(y,t,"lineStyle"),y.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var H=y.getState("emphasis").style;H.lineWidth=+y.style.lineWidth+1}J(y).seriesIndex=t.seriesIndex,ot(y,F,E,T);var B=At(t.get("smooth")),K=t.get("smoothMonotone");if(y.setShape({smooth:B,smoothMonotone:K,connectNulls:I}),b){var M=u.getCalculationInfo("stackedOnSeries"),z=0;b.useStyle(mt(c.getAreaStyle(),{fill:C,opacity:.7,lineJoin:"bevel",decal:u.getVisual("style").decal})),M&&(z=At(M.get("smooth"))),b.setShape({smooth:B,stackedOnSmooth:z,smoothMonotone:K,connectNulls:I}),gt(b,t,"areaStyle"),J(b).seriesIndex=t.seriesIndex,ot(b,F,E,T)}var Q=function(O){r._changePolyState(O)};u.eachItemGraphicEl(function(O){O&&(O.onHoverStateChange=Q)}),this._polyline.onHoverStateChange=Q,this._data=u,this._coordSys=i,this._stackedOnPoints=S,this._points=v,this._step=L,this._valueOrigin=_,t.get("triggerLineEvent")&&(this.packEventData(t,y),b&&this.packEventData(t,b))},e.prototype.packEventData=function(t,a){J(a).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,a,o,r){var i=t.getData(),s=pt(i,r);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var u=i.getLayout("points"),l=i.getItemGraphicEl(s);if(!l){var c=u[s*2],v=u[s*2+1];if(isNaN(c)||isNaN(v)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,v))return;var f=t.get("zlevel")||0,h=t.get("z")||0;l=new ut(i,s),l.x=c,l.y=v,l.setZ(f,h);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=h,p.z2=this._polyline.z2+1),l.__temp=!0,i.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else at.prototype.highlight.call(this,t,a,o,r)},e.prototype.downplay=function(t,a,o,r){var i=t.getData(),s=pt(i,r);if(this._changePolyState("normal"),s!=null&&s>=0){var u=i.getItemGraphicEl(s);u&&(u.__temp?(i.setItemGraphicEl(s,null),this.group.remove(u)):u.downplay())}else at.prototype.downplay.call(this,t,a,o,r)},e.prototype._changePolyState=function(t){var a=this._polygon;yt(this._polyline,t),a&&yt(a,t)},e.prototype._newPolyline=function(t){var a=this._polyline;return a&&this._lineGroup.remove(a),a=new we({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(a),this._polyline=a,a},e.prototype._newPolygon=function(t,a){var o=this._polygon;return o&&this._lineGroup.remove(o),o=new Ce({shape:{points:t,stackedOnPoints:a},segmentIgnoreThreshold:2}),this._lineGroup.add(o),this._polygon=o,o},e.prototype._initSymbolLabelAnimation=function(t,a,o){var r,i,s=a.getBaseAxis(),u=s.inverse;a.type==="cartesian2d"?(r=s.isHorizontal(),i=!1):a.type==="polar"&&(r=s.dim==="angle",i=!0);var l=t.hostModel,c=l.get("animationDuration");R(c)&&(c=c(null));var v=l.get("animationDelay")||0,f=R(v)?v(null):v;t.eachItemGraphicEl(function(h,p){var y=h;if(y){var b=[h.x,h.y],m=void 0,g=void 0,d=void 0;if(o)if(i){var _=o,P=a.pointToCoord(b);r?(m=_.startAngle,g=_.endAngle,d=-P[1]/180*Math.PI):(m=_.r0,g=_.r,d=P[0])}else{var S=o;r?(m=S.x,g=S.x+S.width,d=h.x):(m=S.y+S.height,g=S.y,d=h.y)}var D=g===m?0:(d-m)/(g-m);u&&(D=1-D);var I=R(v)?v(p):c*D+f,A=y.getSymbolPath(),w=A.getTextContent();y.attr({scaleX:0,scaleY:0}),y.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),w&&w.animateFrom({style:{opacity:0}},{duration:300,delay:I}),A.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,a,o){var r=t.getModel("endLabel");if(Ht(t)){var i=t.getData(),s=this._polyline,u=i.getLayout("points");if(!u){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new Yt({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=Me(u);c>=0&&(Tt(s,lt(t,"endLabel"),{inheritColor:o,labelFetcher:t,labelDataIndex:c,defaultText:function(v,f,h){return h!=null?me(i,h):Gt(i,v)},enableTextSetter:!0},Re(r,a)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,a,o,r,i,s,u){var l=this._endLabel,c=this._polyline;if(l){t<1&&r.originalX==null&&(r.originalX=l.x,r.originalY=l.y);var v=o.getLayout("points"),f=o.hostModel,h=f.get("connectNulls"),p=s.get("precision"),y=s.get("distance")||0,b=u.getBaseAxis(),m=b.isHorizontal(),g=b.inverse,d=a.shape,_=g?m?d.x:d.y+d.height:m?d.x+d.width:d.y,P=(m?y:0)*(g?-1:1),S=(m?0:-y)*(g?-1:1),D=m?"x":"y",I=ze(v,_,D),A=I.range,w=A[1]-A[0],L=void 0;if(w>=1){if(w>1&&!h){var k=wt(v,A[0]);l.attr({x:k[0]+P,y:k[1]+S}),i&&(L=f.getRawValue(A[0]))}else{var k=c.getPointOn(_,D);k&&l.attr({x:k[0]+P,y:k[1]+S});var C=f.getRawValue(A[0]),V=f.getRawValue(A[1]);i&&(L=xt(o,p,C,V,I.t))}r.lastFrameIndex=A[0]}else{var G=t===1||r.lastFrameIndex>0?A[0]:0,k=wt(v,G);i&&(L=f.getRawValue(G)),l.attr({x:k[0]+P,y:k[1]+S})}if(i){var N=te(l);typeof N.setLabelText=="function"&&N.setLabelText(L)}}},e.prototype._doUpdateAnimation=function(t,a,o,r,i,s,u){var l=this._polyline,c=this._polygon,v=t.hostModel,f=Ae(this._data,t,this._stackedOnPoints,a,this._coordSys,o,this._valueOrigin),h=f.current,p=f.stackedOnCurrent,y=f.next,b=f.stackedOnNext;if(i&&(h=X(f.current,o,i,u),p=X(f.stackedOnCurrent,o,i,u),y=X(f.next,o,i,u),b=X(f.stackedOnNext,o,i,u)),It(h,y)>3e3||c&&It(p,b)>3e3){l.stopAnimation(),l.setShape({points:y}),c&&(c.stopAnimation(),c.setShape({points:y,stackedOnPoints:b}));return}l.shape.__points=f.current,l.shape.points=h;var m={shape:{points:y}};f.current!==h&&(m.shape.__points=f.next),l.stopAnimation(),Y(l,m,v),c&&(c.setShape({points:h,stackedOnPoints:p}),c.stopAnimation(),Y(c,{shape:{stackedOnPoints:b}},v),l.shape.points!==c.shape.points&&(c.shape.points=l.shape.points));for(var g=[],d=f.status,_=0;_<d.length;_++){var P=d[_].cmd;if(P==="="){var S=t.getItemGraphicEl(d[_].idx1);S&&g.push({el:S,ptIdx:_})}}l.animators&&l.animators.length&&l.animators[0].during(function(){c&&c.dirtyShape();for(var D=l.shape.__points,I=0;I<g.length;I++){var A=g[I].el,w=g[I].ptIdx*2;A.x=D[w],A.y=D[w+1],A.markRedraw()}})},e.prototype.remove=function(t){var a=this.group,o=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),o&&o.eachItemGraphicEl(function(r,i){r.__temp&&(a.remove(r),o.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(at);function He(n,e){return{seriesType:n,plan:ie(),reset:function(t){var a=t.getData(),o=t.coordinateSystem;if(t.pipelineContext,!!o){var r=j(o.dimensions,function(v){return a.mapDimension(v)}).slice(0,2),i=r.length,s=a.getCalculationInfo("stackResultDimension");tt(a,r[0])&&(r[0]=s),tt(a,r[1])&&(r[1]=s);var u=a.getStore(),l=a.getDimensionIndex(r[0]),c=a.getDimensionIndex(r[1]);return i&&{progress:function(v,f){for(var h=v.end-v.start,p=q(h*i),y=[],b=[],m=v.start,g=0;m<v.end;m++){var d=void 0;if(i===1){var _=u.get(l,m);d=o.dataToPoint(_,null,b)}else y[0]=u.get(l,m),y[1]=u.get(c,m),d=o.dataToPoint(y,null,b);p[g++]=d[0],p[g++]=d[1]}f.setLayout("points",p)}}}}}}function Je(n){n.registerChartView(Fe),n.registerSeriesModel(De),n.registerLayout(He("line")),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),a=e.getModel("lineStyle").getLineStyle();a&&!a.stroke&&(a.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",a)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,ye("line"))}const Be={name:"Checkbox",data(){return{checked:this.initChecked}},props:{initChecked:{type:Boolean,default:!0}},computed:{},created(){},methods:{showLabel(n){this.$emit("setShowLabel",n)}}};function Ue(n,e,t,a,o,r){const i=de("el-checkbox");return Se(),_e(i,{modelValue:o.checked,"onUpdate:modelValue":e[0]||(e[0]=s=>o.checked=s),onChange:e[1]||(e[1]=s=>r.showLabel(o.checked))},null,8,["modelValue"])}const je=be(Be,[["render",Ue]]);var We=function(n){Z(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,a,o){return new e(t,a,o)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(Vt);function Lt(n,e,t){var a=e.coordinateSystem;n.each(function(o){var r=n.getItemModel(o),i,s=St(r.get("x"),t.getWidth()),u=St(r.get("y"),t.getHeight());if(!isNaN(s)&&!isNaN(u))i=[s,u];else if(e.getMarkerPosition)i=e.getMarkerPosition(n.getValues(n.dimensions,o));else if(a){var l=n.get(a.dimensions[0],o),c=n.get(a.dimensions[1],o);i=a.dataToPoint([l,c])}isNaN(s)||(i[0]=s),isNaN(u)||(i[1]=u),n.setItemLayout(o,i)})}var Xe=function(n){Z(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,a,o){a.eachSeries(function(r){var i=Vt.getMarkerModelFromSeries(r,"markPoint");i&&(Lt(i.getData(),r,o),this.markerGroupMap.get(r.id).updateLayout())},this)},e.prototype.renderSeries=function(t,a,o,r){var i=t.coordinateSystem,s=t.id,u=t.getData(),l=this.markerGroupMap,c=l.get(s)||l.set(s,new Mt),v=Ze(i,t,a);a.setData(v),Lt(a.getData(),t,r),v.each(function(f){var h=v.getItemModel(f),p=h.getShallow("symbol"),y=h.getShallow("symbolSize"),b=h.getShallow("symbolRotate"),m=h.getShallow("symbolOffset"),g=h.getShallow("symbolKeepAspect");if(R(p)||R(y)||R(b)||R(m)){var d=a.getRawValue(f),_=a.getDataParams(f);R(p)&&(p=p(d,_)),R(y)&&(y=y(d,_)),R(b)&&(b=b(d,_)),R(m)&&(m=m(d,_))}var P=h.getModel("itemStyle").getItemStyle(),S=ne(u,"color");P.fill||(P.fill=S),v.setItemVisual(f,{symbol:p,symbolSize:y,symbolRotate:b,symbolOffset:m,symbolKeepAspect:g,style:P})}),c.updateData(v),this.group.add(c.group),v.eachItemGraphicEl(function(f){f.traverse(function(h){J(h).dataModel=a})}),this.markKeep(c),c.group.silent=a.get("silent")||t.get("silent")},e.type="markPoint",e}(oe);function Ze(n,e,t){var a;n?a=j(n&&n.dimensions,function(s){var u=e.getData().getDimensionInfo(e.getData().mapDimension(s))||{};return x(x({},u),{name:s,ordinalMeta:null})}):a=[{name:"value",type:"float"}];var o=new se(a,t),r=j(t.get("data"),dt(le,e));n&&(r=ue(r,dt(ve,n)));var i=he(!!n,a);return o.initData(r,null,i),o}function Qe(n){n.registerComponentModel(We),n.registerComponentView(Xe),n.registerPreprocessor(function(e){fe(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}export{je as C,Je as a,Qe as i};
