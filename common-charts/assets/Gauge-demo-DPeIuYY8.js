import{_ as V,P as Wt,n as Bt,g as I,p as k,L as j,h as Gt,Z as Y,j as J,k as ct,l as Z,m as vt,o as gt,q as zt,t as Nt,v as ht,w as dt,x as pt,G as rt,y as Vt,z as It,C as Ot,A as Ft,B as Ht,S as et,D as $t,E as Kt,F as qt,H as Zt,I as jt,J as Xt,K as Yt,M as Jt,N as at,O as Qt,Q as yt,R as Ut,T as Pt,U as Lt,V as te,W as ee,X,Y as ae,$ as re,a0 as ie,a1 as ft,a2 as xt,a3 as ne,a4 as Tt,a5 as oe,a6 as nt,a7 as kt,a8 as se,a9 as H,aa as $,ab as le,ac as ue,ad as ce,ae as ve,af as ge,ag as he,ah as de,ai as pe,u as Et,aj as ye,ak as mt,al as fe,c as xe,am as me,b as Ae,an as Se,ao as we}from"./common-C8R1ltjb.js";import{_ as be,o as it,c as At,t as Me,b as Ce,d as Pe,n as St,f as Le,e as Te,a as ke,u as Ee}from"./index-Bt1y0IXA.js";import{S as wt,i as De}from"./install-C-hkYAk9.js";import{c as _e}from"./createSeriesDataSimply-B55CvNQW.js";import{w as Re}from"./withInstall-Df4KX8Pz.js";import"./dataSample-CNRCW7Kf.js";import"./sectorHelper-Dh4zBbll.js";var We=function(){function a(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return a}(),Be=function(a){V(e,a);function e(t){var r=a.call(this,t)||this;return r.type="pointer",r}return e.prototype.getDefaultShape=function(){return new We},e.prototype.buildPath=function(t,r){var s=Math.cos,i=Math.sin,o=r.r,u=r.width,n=r.angle,c=r.x-s(n)*u*(u>=o/3?1:2),l=r.y-i(n)*u*(u>=o/3?1:2);n=r.angle-Math.PI/2,t.moveTo(c,l),t.lineTo(r.x+s(n)*u,r.y+i(n)*u),t.lineTo(r.x+s(r.angle)*o,r.y+i(r.angle)*o),t.lineTo(r.x-s(n)*u,r.y-i(n)*u),t.lineTo(c,l)},e}(Wt);function Ge(a,e){var t=a.get("center"),r=e.getWidth(),s=e.getHeight(),i=Math.min(r,s),o=k(t[0],e.getWidth()),u=k(t[1],e.getHeight()),n=k(a.get("radius"),i/2);return{cx:o,cy:u,r:n}}function Q(a,e){var t=a==null?"":a+"";return e&&(Ft(e)?t=e.replace("{value}",t):Ht(e)&&(t=e(a))),t}var ze=function(a){V(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,s){this.group.removeAll();var i=t.get(["axisLine","lineStyle","color"]),o=Ge(t,s);this._renderMain(t,r,s,i,o),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,r,s,i,o){var u=this.group,n=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,l=-t.get("endAngle")/180*Math.PI,v=t.getModel("axisLine"),g=v.get("roundCap"),p=g?wt:et,h=v.get("show"),d=v.getModel("lineStyle"),y=d.get("width"),x=[c,l];Bt(x,!n),c=x[0],l=x[1];for(var m=l-c,P=c,_=[],E=0;h&&E<i.length;E++){var R=Math.min(Math.max(i[E][0],0),1);l=c+m*R;var D=new p({shape:{startAngle:P,endAngle:l,cx:o.cx,cy:o.cy,clockwise:n,r0:o.r-y,r:o.r},silent:!0});D.setStyle({fill:i[E][1]}),D.setStyle(d.getLineStyle(["color","width"])),_.push(D),P=l}_.reverse(),I(_,function(B){return u.add(B)});var W=function(B){if(B<=0)return i[0][1];var f;for(f=0;f<i.length;f++)if(i[f][0]>=B&&(f===0?0:i[f-1][0])<B)return i[f][1];return i[f-1][1]};this._renderTicks(t,r,s,W,o,c,l,n,y),this._renderTitleAndDetail(t,r,s,W,o),this._renderAnchor(t,o),this._renderPointer(t,r,s,W,o,c,l,n,y)},e.prototype._renderTicks=function(t,r,s,i,o,u,n,c,l){for(var v=this.group,g=o.cx,p=o.cy,h=o.r,d=+t.get("min"),y=+t.get("max"),x=t.getModel("splitLine"),m=t.getModel("axisTick"),P=t.getModel("axisLabel"),_=t.get("splitNumber"),E=m.get("splitNumber"),R=k(x.get("length"),h),D=k(m.get("length"),h),W=u,B=(n-u)/_,f=B/E,C=x.getModel("lineStyle").getLineStyle(),L=m.getModel("lineStyle").getLineStyle(),M=x.get("distance"),b,S,A=0;A<=_;A++){if(b=Math.cos(W),S=Math.sin(W),x.get("show")){var w=M?M+l:l,T=new j({shape:{x1:b*(h-w)+g,y1:S*(h-w)+p,x2:b*(h-R-w)+g,y2:S*(h-R-w)+p},style:C,silent:!0});C.stroke==="auto"&&T.setStyle({stroke:i(A/_)}),v.add(T)}if(P.get("show")){var w=P.get("distance")+M,G=Q(Gt(A/_*(y-d)+d),P.get("formatter")),z=i(A/_),N=b*(h-R-w)+g,O=S*(h-R-w)+p,K=P.get("rotate"),F=0;K==="radial"?(F=-W+2*Math.PI,F>Math.PI/2&&(F+=Math.PI)):K==="tangential"?F=-W-Math.PI/2:$t(K)&&(F=K*Math.PI/180),F===0?v.add(new Y({style:J(P,{text:G,x:N,y:O,verticalAlign:S<-.8?"top":S>.8?"bottom":"middle",align:b<-.4?"left":b>.4?"right":"center"},{inheritColor:z}),silent:!0})):v.add(new Y({style:J(P,{text:G,x:N,y:O,verticalAlign:"middle",align:"center"},{inheritColor:z}),silent:!0,originX:N,originY:O,rotation:F}))}if(m.get("show")&&A!==_){var w=m.get("distance");w=w?w+l:l;for(var q=0;q<=E;q++){b=Math.cos(W),S=Math.sin(W);var ut=new j({shape:{x1:b*(h-w)+g,y1:S*(h-w)+p,x2:b*(h-D-w)+g,y2:S*(h-D-w)+p},silent:!0,style:L});L.stroke==="auto"&&ut.setStyle({stroke:i((A+q/E)/_)}),v.add(ut),W+=f}W-=f}else W+=B}},e.prototype._renderPointer=function(t,r,s,i,o,u,n,c,l){var v=this.group,g=this._data,p=this._progressEls,h=[],d=t.get(["pointer","show"]),y=t.getModel("progress"),x=y.get("show"),m=t.getData(),P=m.mapDimension("value"),_=+t.get("min"),E=+t.get("max"),R=[_,E],D=[u,n];function W(f,C){var L=m.getItemModel(f),M=L.getModel("pointer"),b=k(M.get("width"),o.r),S=k(M.get("length"),o.r),A=t.get(["pointer","icon"]),w=M.get("offsetCenter"),T=k(w[0],o.r),G=k(w[1],o.r),z=M.get("keepAspect"),N;return A?N=pt(A,T-b/2,G-S,b,S,null,z):N=new Be({shape:{angle:-Math.PI/2,width:b,r:S,x:T,y:G}}),N.rotation=-(C+Math.PI/2),N.x=o.cx,N.y=o.cy,N}function B(f,C){var L=y.get("roundCap"),M=L?wt:et,b=y.get("overlap"),S=b?y.get("width"):l/m.count(),A=b?o.r-S:o.r-(f+1)*S,w=b?o.r:o.r-f*S,T=new M({shape:{startAngle:u,endAngle:C,cx:o.cx,cy:o.cy,clockwise:c,r0:A,r:w}});return b&&(T.z2=E-m.get(P,f)%E),T}(x||d)&&(m.diff(g).add(function(f){var C=m.get(P,f);if(d){var L=W(f,u);ct(L,{rotation:-((isNaN(+C)?D[0]:Z(C,R,D,!0))+Math.PI/2)},t),v.add(L),m.setItemGraphicEl(f,L)}if(x){var M=B(f,u),b=y.get("clip");ct(M,{shape:{endAngle:Z(C,R,D,b)}},t),v.add(M),vt(t.seriesIndex,m.dataType,f,M),h[f]=M}}).update(function(f,C){var L=m.get(P,f);if(d){var M=g.getItemGraphicEl(C),b=M?M.rotation:u,S=W(f,b);S.rotation=b,gt(S,{rotation:-((isNaN(+L)?D[0]:Z(L,R,D,!0))+Math.PI/2)},t),v.add(S),m.setItemGraphicEl(f,S)}if(x){var A=p[C],w=A?A.shape.endAngle:u,T=B(f,w),G=y.get("clip");gt(T,{shape:{endAngle:Z(L,R,D,G)}},t),v.add(T),vt(t.seriesIndex,m.dataType,f,T),h[f]=T}}).execute(),m.each(function(f){var C=m.getItemModel(f),L=C.getModel("emphasis"),M=L.get("focus"),b=L.get("blurScope"),S=L.get("disabled");if(d){var A=m.getItemGraphicEl(f),w=m.getItemVisual(f,"style"),T=w.fill;if(A instanceof zt){var G=A.style;A.useStyle(Nt({image:G.image,x:G.x,y:G.y,width:G.width,height:G.height},w))}else A.useStyle(w),A.type!=="pointer"&&A.setColor(T);A.setStyle(C.getModel(["pointer","itemStyle"]).getItemStyle()),A.style.fill==="auto"&&A.setStyle("fill",i(Z(m.get(P,f),R,[0,1],!0))),A.z2EmphasisLift=0,ht(A,C),dt(A,M,b,S)}if(x){var z=h[f];z.useStyle(m.getItemVisual(f,"style")),z.setStyle(C.getModel(["progress","itemStyle"]).getItemStyle()),z.z2EmphasisLift=0,ht(z,C),dt(z,M,b,S)}}),this._progressEls=h)},e.prototype._renderAnchor=function(t,r){var s=t.getModel("anchor"),i=s.get("show");if(i){var o=s.get("size"),u=s.get("icon"),n=s.get("offsetCenter"),c=s.get("keepAspect"),l=pt(u,r.cx-o/2+k(n[0],r.r),r.cy-o/2+k(n[1],r.r),o,o,null,c);l.z2=s.get("showAbove")?1:0,l.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(l)}},e.prototype._renderTitleAndDetail=function(t,r,s,i,o){var u=this,n=t.getData(),c=n.mapDimension("value"),l=+t.get("min"),v=+t.get("max"),g=new rt,p=[],h=[],d=t.isAnimationEnabled(),y=t.get(["pointer","showAbove"]);n.diff(this._data).add(function(x){p[x]=new Y({silent:!0}),h[x]=new Y({silent:!0})}).update(function(x,m){p[x]=u._titleEls[m],h[x]=u._detailEls[m]}).execute(),n.each(function(x){var m=n.getItemModel(x),P=n.get(c,x),_=new rt,E=i(Z(P,[l,v],[0,1],!0)),R=m.getModel("title");if(R.get("show")){var D=R.get("offsetCenter"),W=o.cx+k(D[0],o.r),B=o.cy+k(D[1],o.r),f=p[x];f.attr({z2:y?0:2,style:J(R,{x:W,y:B,text:n.getName(x),align:"center",verticalAlign:"middle"},{inheritColor:E})}),_.add(f)}var C=m.getModel("detail");if(C.get("show")){var L=C.get("offsetCenter"),M=o.cx+k(L[0],o.r),b=o.cy+k(L[1],o.r),S=k(C.get("width"),o.r),A=k(C.get("height"),o.r),w=t.get(["progress","show"])?n.getItemVisual(x,"style").fill:E,f=h[x],T=C.get("formatter");f.attr({z2:y?0:2,style:J(C,{x:M,y:b,text:Q(P,T),width:isNaN(S)?null:S,height:isNaN(A)?null:A,align:"center",verticalAlign:"middle"},{inheritColor:w})}),Vt(f,{normal:C},P,function(z){return Q(z,T)}),d&&It(f,x,n,t,{getFormattedLabel:function(z,N,O,K,F,q){return Q(q?q.interpolatedValue:P,T)}}),_.add(f)}g.add(_)}),this.group.add(g),this._titleEls=p,this._detailEls=h},e.type="gauge",e}(Ot),Ne=function(a){V(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,r){return _e(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Kt);function Ve(a){a.registerChartView(ze),a.registerSeriesModel(Ne)}var Ie=function(a){V(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,s,i,o){var u=s.axis;u.dim==="angle"&&(this.animationThreshold=Math.PI/18);var n=u.polar,c=n.getOtherAxis(u),l=c.getExtent(),v=u.dataToCoord(r),g=i.get("type");if(g&&g!=="none"){var p=qt(i),h=Fe[g](u,n,v,l);h.style=p,t.graphicKey=h.type,t.pointer=h}var d=i.get(["label","margin"]),y=Oe(r,s,i,n,d);Zt(t,s,i,o,y)},e}(jt);function Oe(a,e,t,r,s){var i=e.axis,o=i.dataToCoord(a),u=r.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var n=r.getRadiusAxis().getExtent(),c,l,v;if(i.dim==="radius"){var g=Ut();Xt(g,g,u),Yt(g,g,[r.cx,r.cy]),c=Jt([o,-s],g);var p=e.getModel("axisLabel").get("rotate")||0,h=at.innerTextLayout(u,p*Math.PI/180,-1);l=h.textAlign,v=h.textVerticalAlign}else{var d=n[1];c=r.coordToPoint([d+s,o]);var y=r.cx,x=r.cy;l=Math.abs(c[0]-y)/d<.3?"center":c[0]>y?"left":"right",v=Math.abs(c[1]-x)/d<.3?"middle":c[1]>x?"top":"bottom"}return{position:c,align:l,verticalAlign:v}}var Fe={line:function(a,e,t,r){return a.dim==="angle"?{type:"Line",shape:Qt(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(a,e,t,r){var s=Math.max(1,a.getBandWidth()),i=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:yt(e.cx,e.cy,r[0],r[1],(-t-s/2)*i,(-t+s/2)*i)}:{type:"Sector",shape:yt(e.cx,e.cy,t-s/2,t+s/2,0,Math.PI*2)}}},He=function(a){V(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,s=this.ecModel;return s.eachComponent(t,function(i){i.getCoordSysModel()===this&&(r=i)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Pt),ot=function(a){V(e,a);function e(){return a!==null&&a.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Lt).models[0]},e.type="polarAxis",e}(Pt);te(ot,ee);var $e=function(a){V(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(ot),Ke=function(a){V(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(ot),st=function(a){V(e,a);function e(t,r){return a.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e}(X);st.prototype.dataToRadius=X.prototype.dataToCoord;st.prototype.radiusToData=X.prototype.coordToData;var qe=ae(),lt=function(a){V(e,a);function e(t,r){return a.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),s=t.scale,i=s.getExtent(),o=s.count();if(i[1]-i[0]<1)return 0;var u=i[0],n=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(n),l=re(u==null?"":u+"",r.getFont(),"center","top"),v=Math.max(l.height,7),g=v/c;isNaN(g)&&(g=1/0);var p=Math.max(0,Math.floor(g)),h=qe(t.model),d=h.lastAutoInterval,y=h.lastTickCount;return d!=null&&y!=null&&Math.abs(d-p)<=1&&Math.abs(y-o)<=1&&d>p?p=d:(h.lastTickCount=o,h.lastAutoInterval=p),p},e}(X);lt.prototype.dataToAngle=X.prototype.dataToCoord;lt.prototype.angleToData=X.prototype.coordToData;var Dt=["radius","angle"],Ze=function(){function a(e){this.dimensions=Dt,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new st,this._angleAxis=new lt,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},a.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},a.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,s=this._radiusAxis;return r.scale.type===e&&t.push(r),s.scale.type===e&&t.push(s),t},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},a.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},a.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},a.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,s=this.getAngleAxis(),i=s.getExtent(),o=Math.min(i[0],i[1]),u=Math.max(i[0],i[1]);s.inverse?o=u-360:u=o+360;var n=Math.sqrt(t*t+r*r);t/=n,r/=n;for(var c=Math.atan2(-r,t)/Math.PI*180,l=c<o?1:-1;c<o||c>u;)c+=l*360;return[n,c]},a.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,s=Math.cos(r)*t+this.cx,i=-Math.sin(r)*t+this.cy;return[s,i]},a.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var s=e.getExtent(),i=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-s[0]*i,endAngle:-s[1]*i,clockwise:e.inverse,contain:function(o,u){var n=o-this.cx,c=u-this.cy,l=n*n+c*c-1e-4,v=this.r,g=this.r0;return l<=v*v&&l>=g*g}}},a.prototype.convertToPixel=function(e,t,r){var s=bt(t);return s===this?this.dataToPoint(r):null},a.prototype.convertFromPixel=function(e,t,r){var s=bt(t);return s===this?this.pointToData(r):null},a}();function bt(a){var e=a.seriesModel,t=a.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const je=Ze;function Xe(a,e,t){var r=e.get("center"),s=t.getWidth(),i=t.getHeight();a.cx=k(r[0],s),a.cy=k(r[1],i);var o=a.getRadiusAxis(),u=Math.min(s,i)/2,n=e.get("radius");n==null?n=[0,"100%"]:ie(n)||(n=[0,n]);var c=[k(n[0],u),k(n[1],u)];o.inverse?o.setExtent(c[1],c[0]):o.setExtent(c[0],c[1])}function Ye(a,e){var t=this,r=t.getAngleAxis(),s=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),s.scale.setExtent(1/0,-1/0),a.eachSeries(function(u){if(u.coordinateSystem===t){var n=u.getData();I(ft(n,"radius"),function(c){s.scale.unionExtentFromData(n,c)}),I(ft(n,"angle"),function(c){r.scale.unionExtentFromData(n,c)})}}),xt(r.scale,r.model),xt(s.scale,s.model),r.type==="category"&&!r.onBand){var i=r.getExtent(),o=360/r.scale.count();r.inverse?i[1]+=o:i[1]-=o,r.setExtent(i[0],i[1])}}function Je(a){return a.mainType==="angleAxis"}function Mt(a,e){var t;if(a.type=e.get("type"),a.scale=ne(e),a.onBand=e.get("boundaryGap")&&a.type==="category",a.inverse=e.get("inverse"),Je(e)){a.inverse=a.inverse!==e.get("clockwise");var r=e.get("startAngle"),s=(t=e.get("endAngle"))!==null&&t!==void 0?t:r+(a.inverse?-360:360);a.setExtent(r,s)}e.axis=a,a.model=e}var Qe={dimensions:Dt,create:function(a,e){var t=[];return a.eachComponent("polar",function(r,s){var i=new je(s+"");i.update=Ye;var o=i.getRadiusAxis(),u=i.getAngleAxis(),n=r.findAxisModel("radiusAxis"),c=r.findAxisModel("angleAxis");Mt(o,n),Mt(u,c),Xe(i,r,e),t.push(i),r.coordinateSystem=i,i.model=r}),a.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var s=r.getReferringComponents("polar",Lt).models[0];r.coordinateSystem=s.coordinateSystem}}),t}},Ue=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function U(a,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=a.coordToPoint([e[0],t]),s=a.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:s[0],y2:s[1]}}function tt(a){var e=a.getRadiusAxis();return e.inverse?0:1}function Ct(a){var e=a[0],t=a[a.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&a.pop()}var ta=function(a){V(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var s=t.axis,i=s.polar,o=i.getRadiusAxis().getExtent(),u=s.getTicksCoords(),n=s.getMinorTicksCoords(),c=Tt(s.getViewLabels(),function(l){l=oe(l);var v=s.scale,g=v.type==="ordinal"?v.getRawOrdinalNumber(l.tickValue):l.tickValue;return l.coord=s.dataToCoord(g),l});Ct(c),Ct(u),I(Ue,function(l){t.get([l,"show"])&&(!s.scale.isBlank()||l==="axisLine")&&ea[l](this.group,t,i,u,n,o,c)},this)}},e.type="angleAxis",e}(nt),ea={axisLine:function(a,e,t,r,s,i){var o=e.getModel(["axisLine","lineStyle"]),u=t.getAngleAxis(),n=Math.PI/180,c=u.getExtent(),l=tt(t),v=l?0:1,g,p=Math.abs(c[1]-c[0])===360?"Circle":"Arc";i[v]===0?g=new kt[p]({shape:{cx:t.cx,cy:t.cy,r:i[l],startAngle:-c[0]*n,endAngle:-c[1]*n,clockwise:u.inverse},style:o.getLineStyle(),z2:1,silent:!0}):g=new se({shape:{cx:t.cx,cy:t.cy,r:i[l],r0:i[v]},style:o.getLineStyle(),z2:1,silent:!0}),g.style.fill=null,a.add(g)},axisTick:function(a,e,t,r,s,i){var o=e.getModel("axisTick"),u=(o.get("inside")?-1:1)*o.get("length"),n=i[tt(t)],c=Tt(r,function(l){return new j({shape:U(t,[n,n+u],l.coord)})});a.add(H(c,{style:$(o.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,e,t,r,s,i){if(s.length){for(var o=e.getModel("axisTick"),u=e.getModel("minorTick"),n=(o.get("inside")?-1:1)*u.get("length"),c=i[tt(t)],l=[],v=0;v<s.length;v++)for(var g=0;g<s[v].length;g++)l.push(new j({shape:U(t,[c,c+n],s[v][g].coord)}));a.add(H(l,{style:$(u.getModel("lineStyle").getLineStyle(),$(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,e,t,r,s,i,o){var u=e.getCategories(!0),n=e.getModel("axisLabel"),c=n.get("margin"),l=e.get("triggerEvent");I(o,function(v,g){var p=n,h=v.tickValue,d=i[tt(t)],y=t.coordToPoint([d+c,v.coord]),x=t.cx,m=t.cy,P=Math.abs(y[0]-x)/d<.3?"center":y[0]>x?"left":"right",_=Math.abs(y[1]-m)/d<.3?"middle":y[1]>m?"top":"bottom";if(u&&u[h]){var E=u[h];le(E)&&E.textStyle&&(p=new ue(E.textStyle,n,n.ecModel))}var R=new Y({silent:at.isLabelSilent(e),style:J(p,{x:y[0],y:y[1],fill:p.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:v.formattedLabel,align:P,verticalAlign:_})});if(a.add(R),l){var D=at.makeAxisEventDataBase(e);D.targetType="axisLabel",D.value=v.rawLabel,ce(R).eventData=D}},this)},splitLine:function(a,e,t,r,s,i){var o=e.getModel("splitLine"),u=o.getModel("lineStyle"),n=u.get("color"),c=0;n=n instanceof Array?n:[n];for(var l=[],v=0;v<r.length;v++){var g=c++%n.length;l[g]=l[g]||[],l[g].push(new j({shape:U(t,i,r[v].coord)}))}for(var v=0;v<l.length;v++)a.add(H(l[v],{style:$({stroke:n[v%n.length]},u.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(a,e,t,r,s,i){if(s.length){for(var o=e.getModel("minorSplitLine"),u=o.getModel("lineStyle"),n=[],c=0;c<s.length;c++)for(var l=0;l<s[c].length;l++)n.push(new j({shape:U(t,i,s[c][l].coord)}));a.add(H(n,{style:u.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(a,e,t,r,s,i){if(r.length){var o=e.getModel("splitArea"),u=o.getModel("areaStyle"),n=u.get("color"),c=0;n=n instanceof Array?n:[n];for(var l=[],v=Math.PI/180,g=-r[0].coord*v,p=Math.min(i[0],i[1]),h=Math.max(i[0],i[1]),d=e.get("clockwise"),y=1,x=r.length;y<=x;y++){var m=y===x?r[0].coord:r[y].coord,P=c++%n.length;l[P]=l[P]||[],l[P].push(new et({shape:{cx:t.cx,cy:t.cy,r0:p,r:h,startAngle:g,endAngle:-m*v,clockwise:d},silent:!0})),g=-m*v}for(var y=0;y<l.length;y++)a.add(H(l[y],{style:$({fill:n[y%n.length]},u.getAreaStyle()),silent:!0}))}}},aa=["axisLine","axisTickLabel","axisName"],ra=["splitLine","splitArea","minorSplitLine"],ia=function(a){V(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var s=this._axisGroup,i=this._axisGroup=new rt;this.group.add(i);var o=t.axis,u=o.polar,n=u.getAngleAxis(),c=o.getTicksCoords(),l=o.getMinorTicksCoords(),v=n.getExtent()[0],g=o.getExtent(),p=oa(u,t,v),h=new at(t,p);I(aa,h.add,h),i.add(h.getGroup()),ve(s,i,t),I(ra,function(d){t.get([d,"show"])&&!o.scale.isBlank()&&na[d](this.group,t,u,v,g,c,l)},this)}},e.type="radiusAxis",e}(nt),na={splitLine:function(a,e,t,r,s,i){var o=e.getModel("splitLine"),u=o.getModel("lineStyle"),n=u.get("color"),c=0,l=t.getAngleAxis(),v=Math.PI/180,g=l.getExtent(),p=Math.abs(g[1]-g[0])===360?"Circle":"Arc";n=n instanceof Array?n:[n];for(var h=[],d=0;d<i.length;d++){var y=c++%n.length;h[y]=h[y]||[],h[y].push(new kt[p]({shape:{cx:t.cx,cy:t.cy,r:Math.max(i[d].coord,0),startAngle:-g[0]*v,endAngle:-g[1]*v,clockwise:l.inverse}}))}for(var d=0;d<h.length;d++)a.add(H(h[d],{style:$({stroke:n[d%n.length],fill:null},u.getLineStyle()),silent:!0}))},minorSplitLine:function(a,e,t,r,s,i,o){if(o.length){for(var u=e.getModel("minorSplitLine"),n=u.getModel("lineStyle"),c=[],l=0;l<o.length;l++)for(var v=0;v<o[l].length;v++)c.push(new ge({shape:{cx:t.cx,cy:t.cy,r:o[l][v].coord}}));a.add(H(c,{style:$({fill:null},n.getLineStyle()),silent:!0}))}},splitArea:function(a,e,t,r,s,i){if(i.length){var o=e.getModel("splitArea"),u=o.getModel("areaStyle"),n=u.get("color"),c=0;n=n instanceof Array?n:[n];for(var l=[],v=i[0].coord,g=1;g<i.length;g++){var p=c++%n.length;l[p]=l[p]||[],l[p].push(new et({shape:{cx:t.cx,cy:t.cy,r0:v,r:i[g].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),v=i[g].coord}for(var g=0;g<l.length;g++)a.add(H(l[g],{style:$({fill:n[g%n.length]},u.getAreaStyle()),silent:!0}))}}};function oa(a,e,t){return{position:[a.cx,a.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function _t(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function Rt(a,e){return e.dim+a.model.componentIndex}function sa(a,e,t){var r={},s=la(he(e.getSeriesByType(a),function(i){return!e.isSeriesFiltered(i)&&i.coordinateSystem&&i.coordinateSystem.type==="polar"}));e.eachSeriesByType(a,function(i){if(i.coordinateSystem.type==="polar"){var o=i.getData(),u=i.coordinateSystem,n=u.getBaseAxis(),c=Rt(u,n),l=_t(i),v=s[c][l],g=v.offset,p=v.width,h=u.getOtherAxis(n),d=i.coordinateSystem.cx,y=i.coordinateSystem.cy,x=i.get("barMinHeight")||0,m=i.get("barMinAngle")||0;r[l]=r[l]||[];for(var P=o.mapDimension(h.dim),_=o.mapDimension(n.dim),E=de(o,P),R=n.dim!=="radius"||!i.get("roundCap",!0),D=h.model,W=D.get("startValue"),B=h.dataToCoord(W||0),f=0,C=o.count();f<C;f++){var L=o.get(P,f),M=o.get(_,f),b=L>=0?"p":"n",S=B;E&&(r[l][M]||(r[l][M]={p:B,n:B}),S=r[l][M][b]);var A=void 0,w=void 0,T=void 0,G=void 0;if(h.dim==="radius"){var z=h.dataToCoord(L)-B,N=n.dataToCoord(M);Math.abs(z)<x&&(z=(z<0?-1:1)*x),A=S,w=S+z,T=N-g,G=T-p,E&&(r[l][M][b]=w)}else{var O=h.dataToCoord(L,R)-B,K=n.dataToCoord(M);Math.abs(O)<m&&(O=(O<0?-1:1)*m),A=K+g,w=A+p,T=S,G=S+O,E&&(r[l][M][b]=G)}o.setItemLayout(f,{cx:d,cy:y,r0:A,r:w,startAngle:-T*Math.PI/180,endAngle:-G*Math.PI/180,clockwise:T>=G})}}})}function la(a){var e={};I(a,function(r,s){var i=r.getData(),o=r.coordinateSystem,u=o.getBaseAxis(),n=Rt(o,u),c=u.getExtent(),l=u.type==="category"?u.getBandWidth():Math.abs(c[1]-c[0])/i.count(),v=e[n]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},g=v.stacks;e[n]=v;var p=_t(r);g[p]||v.autoWidthCount++,g[p]=g[p]||{width:0,maxWidth:0};var h=k(r.get("barWidth"),l),d=k(r.get("barMaxWidth"),l),y=r.get("barGap"),x=r.get("barCategoryGap");h&&!g[p].width&&(h=Math.min(v.remainedWidth,h),g[p].width=h,v.remainedWidth-=h),d&&(g[p].maxWidth=d),y!=null&&(v.gap=y),x!=null&&(v.categoryGap=x)});var t={};return I(e,function(r,s){t[s]={};var i=r.stacks,o=r.bandWidth,u=k(r.categoryGap,o),n=k(r.gap,1),c=r.remainedWidth,l=r.autoWidthCount,v=(c-u)/(l+(l-1)*n);v=Math.max(v,0),I(i,function(d,y){var x=d.maxWidth;x&&x<v&&(x=Math.min(x,c),d.width&&(x=Math.min(x,d.width)),c-=x,d.width=x,l--)}),v=(c-u)/(l+(l-1)*n),v=Math.max(v,0);var g=0,p;I(i,function(d,y){d.width||(d.width=v),p=d,g+=d.width*(1+n)}),p&&(g-=p.width*n);var h=-g/2;I(i,function(d,y){t[s][y]=t[s][y]||{offset:h,width:d.width},h+=d.width*(1+n)})}),t}var ua={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},ca={splitNumber:5},va=function(a){V(e,a);function e(){var t=a!==null&&a.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(pe);function ga(a){Et(ye),nt.registerAxisPointerClass("PolarAxisPointer",Ie),a.registerCoordinateSystem("polar",Qe),a.registerComponentModel(He),a.registerComponentView(va),mt(a,"angle",$e,ua),mt(a,"radius",Ke,ca),a.registerComponentView(ta),a.registerComponentView(ia),a.registerLayout(fe(sa,"bar"))}function ha({width:a=88,color:e=null,dataFormat:t=null,dataStas:r=[],charRate:s=0,status:i=null,showToolbox:o=!1}){return{toolbox:{show:o,orient:"horizontal",itemSize:16,itemGap:18,right:15,top:0,iconStyle:{color:"#fff",borderColor:"#000"},feature:{saveAsImage:{show:!0,title:"导出图片"},dataView:{show:!0,readOnly:!1}}},title:[{text:i,bottom:"5",x:"center",borderColor:e,backgroundColor:"white",borderWidth:1,borderRadius:5,padding:[a/20,a/7.5],textStyle:{fontWeight:"normal",fontSize:a/10,color:e}}],angleAxis:{show:!1,max:100*360/270,type:"value",startAngle:225,splitLine:{show:!1}},barMaxWidth:6,radiusAxis:{show:!1,type:"category"},polar:{center:["50%","50%"],radius:a*.8},series:[{type:"bar",smooth:!0,animationDelay:500,animationDuration:1500,data:[{value:s||r[0]/r[1]*100,itemStyle:{color:e}}],barGap:"-100%",coordinateSystem:"polar",roundCap:!0,z:2},{type:"bar",smooth:!0,animationDelay:500,animationDuration:1500,data:[{value:100,itemStyle:{color:"#E0E3EA"}}],barGap:"-100%",coordinateSystem:"polar",roundCap:!0,z:1},{name:i,smooth:!0,animationDelay:500,animationDuration:1500,type:"gauge",startAngle:225,endAngle:-45,axisLine:{show:!1},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLabel:{show:!1},pointer:{show:!1},title:{offsetCenter:[0,"-20%"]},detail:{valueAnimation:!0,color:e},data:t?t(r):[{value:r[0],detail:{offsetCenter:(()=>{const u=r[0].toString().length-1;return[[-a/10,-a/7.5,-a/6.6,-a/5.5,-a/5][u],0]})(),fontWeight:400,fontSize:r[0].toString().length-1<3?a/4:a/8}},{value:r[1],detail:{offsetCenter:(()=>{const u=r[0].toString().length-1;return[[a/12,a/6,a/4.8,a/5.5,a/6][u],8]})(),fontWeight:350,fontSize:r[0].toString().length-1<3?a/7:a/8,formatter:function(u){return`/${u}`}}}]}]}}const da={name:"Gauge",mixins:[xe],props:{id:{type:String,default:"GuageChart",require:!0},title:{type:String,default:""},options:{type:Object,default:null},width:{type:Number,default:88},height:{type:Number,default:88},autoResize:{type:Boolean,default:!0},data:{type:Array,default:function(){return null}},color:{type:String,default:"#409EFF"},status:{type:String,default:"良好"},rate:{type:Number,default:null},dataFormat:{type:Function,default:null},loading:{type:Boolean,default:!1}},data(){return{chart:null,resizeHandler:null,dataStas:[0,0]}},computed:{charRate(){return this.rate},defaultOptions(){var a;return this.options||ha({width:this.width,color:this.color,dataFormat:this.dataFormat,dataStas:this.dataStas,charRate:this.charRate,status:this.status,showToolbox:(a=this.params)==null?void 0:a.showToolbox})}},watch:{data(a){a&&(this.dataStas=a,this.setOption())},loading(a){this.chart&&(a?this.chart.showLoading():this.chart.hideLoading())}},beforeCreate(){Et([Ae,Se,ga,Ve,De,we])},mounted(){this.chart=me(document.getElementById(this.id)),this.setOption()},methods:{setOption(){this.chart&&(this.chart.clear(),this.defaultOptions&&this.chart.setOption(this.defaultOptions))}}},pa={key:0,class:"title"},ya=["id"];function fa(a,e,t,r,s,i){return it(),At("div",{class:"guage-container",style:St({height:t.height+"px",width:t.width+"px"})},[t.title?(it(),At("div",pa,Me(t.title),1)):Ce("",!0),Pe("div",{id:t.id,style:St({height:t.height+"px",width:t.width+"px"})},null,12,ya),Le(a.$slots,"content",{},void 0,!0)],4)}const xa=be(da,[["render",fa],["__scopeId","data-v-fb487166"]]),ma=Re(xa),La=Te({__name:"Gauge-demo",setup(a){return(e,t)=>(it(),ke(Ee(ma)))}});export{La as default};
